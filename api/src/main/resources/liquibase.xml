<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
	<!-- See http://www.liquibase.org/manual/home#available_database_refactorings 
		for a list of supported elements and attributes -->

	<changeSet id="billing_billable_service-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="billing_billable_service" />
			</not>
		</preConditions>
		<comment>
			Create billing_billable_service table
		</comment>
		<createTable tableName="billing_billable_service">
			<column name="service_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="service_concept" type="int" />
			<column name="name" type="varchar(255)" />
			<column name="short_name" type="varchar(255)" />
			<column name="service_category_concept" type="int" />
			<column name="price_category_concept" type="int" />
			<column name="price" type="decimal" />
			<column name="enable" type="boolean" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="billing_billable_service_concept"
			baseTableName="billing_billable_service"
			baseColumnNames="service_concept" referencedTableName="concept"
			referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="billing_billable_service_service_category_concept"
			baseTableName="billing_billable_service"
			baseColumnNames="service_category_concept"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="billing_billable_service_price_category_concept"
			baseTableName="billing_billable_service"
			baseColumnNames="price_category_concept"
			referencedTableName="concept" referencedColumnNames="concept_id" />
	</changeSet>

	<changeSet id="opd-test-order-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="opd_test_order" />
			</not>
		</preConditions>
		<comment>
			Create opd_test_order table
		</comment>
		<createTable tableName="opd_test_order">
			<column name="opd_order_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="patient_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="encounter_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="billable_service_id" type="int" />
			<column name="service_concept" type="int">
				<constraints nullable="false" />
			</column>
			<column name="type_concept" type="int">
				<constraints nullable="false" />
			</column>
			<column name="value_coded" type="int">
				<constraints nullable="false" />
			</column>
			<column name="created_by" type="int">
				<constraints nullable="false" />
			</column>
			<column name="created_on" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="schedule_date" type="datetime" />
			<column name="billing_status" type="boolean" />
			<column name="cancel_status" type="boolean" />
			<column name="comment" type="varchar(200)" />
			<column name="indoor_status" type="boolean" />
			<column name="location_id" type="int">
				<constraints nullable="false" />
			</column>
		</createTable>
		<addForeignKeyConstraint
			constraintName="opd_test_order_patient_id"
			baseTableName="opd_test_order" baseColumnNames="patient_id"
			referencedTableName="patient" referencedColumnNames="patient_id" />
		<addForeignKeyConstraint
			constraintName="opd_test_order_encounter_id"
			baseTableName="opd_test_order" baseColumnNames="encounter_id"
			referencedTableName="encounter" referencedColumnNames="encounter_id" />
		<addForeignKeyConstraint
			constraintName="opd_test_order_billable_service_id"
			baseTableName="opd_test_order" baseColumnNames="billable_service_id"
			referencedTableName="billing_billable_service"
			referencedColumnNames="service_id" />
		<addForeignKeyConstraint
			constraintName="opd_test_order_service_concept"
			baseTableName="opd_test_order" baseColumnNames="service_concept"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="opd_test_order_value_coded"
			baseTableName="opd_test_order" baseColumnNames="value_coded"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="opd_test_order_created_by"
			baseTableName="opd_test_order" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="opd_test_order_location_id"
			baseTableName="opd_test_order" baseColumnNames="location_id"
			referencedTableName="location" referencedColumnNames="location_id" />
	</changeSet>

	<changeSet id="billing_receipt-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="billing_receipt" />
			</not>
		</preConditions>
		<comment>
			Create billing_receipt table
		</comment>
		<createTable tableName="billing_receipt">
			<column name="billing_receipt_id" type="int"
				autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="paid_date" type="datetime" />
		</createTable>
	</changeSet>

	<changeSet id="billing_patient_service_bill-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="billing_patient_service_bill" />
			</not>
		</preConditions>
		<comment>
			Create billing_patient_service_bill table
		</comment>
		<createTable tableName="billing_patient_service_bill">
			<column name="patient_service_bill_id" type="int"
				autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="description" type="varchar(255)" />
			<column name="creator" type="int" />
			<column name="amount" type="decimal" />
			<column name="printed" type="boolean" />
			<column name="created_date" type="datetime" />
			<column name="voided" type="boolean" />
			<column name="voided_by" type="int" />
			<column name="voided_date" type="datetime" />
			<column name="bill_type" type="varchar(15)" />
			<column name="actual_amount" type="decimal" />
			<column name="patient_category" type="varchar(100)" />
			<column name="patient_subcategory" type="varchar(100)" />
			<column name="comment" type="varchar(50)" />
			<column name="patient_id" type="int" />
			<column name="receipt_id" type="int" />
			<column name="waiver_percetage" type="decimal" />
			<column name="waiver_amount" type="decimal" />
			<column name="amount_payable" type="decimal" />
			<column name="amount_given" type="int" />
			<column name="amount_returned" type="int" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_creator"
			baseTableName="billing_patient_service_bill"
			baseColumnNames="creator" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_voided_by"
			baseTableName="billing_patient_service_bill"
			baseColumnNames="voided_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_patient_id"
			baseTableName="billing_patient_service_bill"
			baseColumnNames="patient_id" referencedTableName="patient"
			referencedColumnNames="patient_id" />
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_receipt_id"
			baseTableName="billing_patient_service_bill"
			baseColumnNames="receipt_id" referencedTableName="billing_receipt"
			referencedColumnNames="billing_receipt_id" />
	</changeSet>

	<changeSet
		id="billing_patient_service_bill_item-table-create" author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists
					tableName="billing_patient_service_bill_item" />
			</not>
		</preConditions>
		<comment>
			Create billing_patient_service_bill_item table
		</comment>
		<createTable tableName="billing_patient_service_bill_item">
			<column name="patient_service_bill_item_id" type="int"
				autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="service_id" type="int" />
			<column name="patient_service_bill_id" type="int" />
			<column name="unitPrice" type="decimal" />
			<column name="amount" type="decimal" />
			<column name="quantity" type="int" />
			<column name="name" type="varchar(255)" />
			<column name="created_date" type="datetime" />
			<column name="voided" type="boolean" />
			<column name="voided_date" type="datetime" />
			<column name="voided_by" type="int" />
			<column name="order_id" type="int" />
			<column name="actual_amount" type="decimal" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_item_service_id"
			baseTableName="billing_patient_service_bill_item"
			baseColumnNames="service_id"
			referencedTableName="billing_billable_service"
			referencedColumnNames="service_id" />
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_item_patient_service_bill_id"
			baseTableName="billing_patient_service_bill_item"
			baseColumnNames="patient_service_bill_id"
			referencedTableName="billing_patient_service_bill"
			referencedColumnNames="patient_service_bill_id" />
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_item_order_id"
			baseTableName="billing_patient_service_bill_item"
			baseColumnNames="order_id" referencedTableName="orders"
			referencedColumnNames="order_id" />
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_item_voided_by"
			baseTableName="billing_patient_service_bill_item"
			baseColumnNames="voided_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="billing_category_location-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="billing_category_location" />
			</not>
		</preConditions>
		<comment>
			Create billing_category_location table
		</comment>
		<createTable tableName="billing_category_location">
			<column name="category_location_mapping_id" type="int"
				autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="price_category_concept" type="int" />
			<column name="location_id" type="int" />
			<column name="deleted" type="boolean" />
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="DATETIME">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="DATETIME" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="billing_category_location_price_category_concept"
			baseTableName="billing_category_location"
			baseColumnNames="price_category_concept"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="billing_category_location_price_category_concept"
			baseTableName="billing_category_location"
			baseColumnNames="location_id" referencedTableName="location"
			referencedColumnNames="location_id" />
		<addForeignKeyConstraint
			constraintName="billing_category_location_creator_fk"
			baseTableName="billing_category_location" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="billing_category_location_changed_by_fk"
			baseTableName="billing_category_location"
			baseColumnNames="changed_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="consent_template-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="consent_template" />
			</not>
		</preConditions>
		<comment>
			Create consent_template table
		</comment>
		<createTable tableName="consent_template">
			<column name="consent_template_id" type="int"
				autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="mail_subject" type="varchar(255)" />
			<column name="description" type="varchar(255)" />
			<column name="type" type="int" />
			<column name="template_content" type="text">
				<constraints nullable="false" />
			</column>
			<column name="deleted" type="boolean" />
			<column defaultValueNumeric="0" name="creator" type="int">
				<constraints nullable="false" />
			</column>
			<column name="date_created" type="DATETIME">
				<constraints nullable="false" />
			</column>
			<column name="changed_by" type="int" />
			<column name="date_changed" type="DATETIME" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="consent_template_type"
			baseTableName="consent_template" baseColumnNames="type"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="consent_template_creator_fk"
			baseTableName="consent_template" baseColumnNames="creator"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="consent_template_changed_by_fk"
			baseTableName="consent_template" baseColumnNames="changed_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="billing_patient_service_bill-table-edit1"
		author="ghanshyam">
		<comment>
			update billing_patient_service_bill table
		</comment>
		<addColumn tableName="billing_patient_service_bill">
			<column name="edited" type="boolean" defaultValue="0" />
			<column name="edited_by" type="int" />
			<column name="edited_date" type="datetime" />
		</addColumn>
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_edited_by"
			baseTableName="billing_patient_service_bill"
			baseColumnNames="edited_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="billing_patient_service_bill_item-table-edit1"
		author="ghanshyam">
		<comment>
			update billing_patient_service_bill_item table
		</comment>
		<addColumn tableName="billing_patient_service_bill_item">
			<column name="edited" type="boolean" defaultValue="0" />
			<column name="edited_by" type="int" />
			<column name="edited_date" type="datetime" />
		</addColumn>
		<addForeignKeyConstraint
			constraintName="billing_patient_service_bill_item_edited_by"
			baseTableName="billing_patient_service_bill_item"
			baseColumnNames="edited_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="driver-table-create" author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="billing_driver" />
			</not>
		</preConditions>
		<comment>
			Create billing_driver table
		</comment>
		<createTable tableName="billing_driver">
			<column name="driver_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="address" type="varchar(255)" />
			<column name="description" type="varchar(255)" />
			<column name="phone" type="varchar(20)" />
			<column name="id_card_type" type="int" />
			<column name="id_card_value" type="varchar(51)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="driver_id_card_type_fk"
			baseTableName="billing_driver" baseColumnNames="id_card_type"
			referencedTableName="concept" referencedColumnNames="concept_id" />
		<addForeignKeyConstraint
			constraintName="driver_created_by_fk" baseTableName="billing_driver"
			baseColumnNames="created_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="driver_deleted_by_fk" baseTableName="billing_driver"
			baseColumnNames="deleted_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="driver_lastmodified_by_fk"
			baseTableName="billing_driver" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="driver_retired_by_fk" baseTableName="billing_driver"
			baseColumnNames="retired_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="ambulance-table-create" author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="billing_ambulance" />
			</not>
		</preConditions>
		<comment>
			Create billing_ambulance table
		</comment>
		<createTable tableName="billing_ambulance">
			<column name="ambulance_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="description" type="varchar(255)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="ambulance_created_by_fk"
			baseTableName="billing_ambulance" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="ambulance_deleted_by_fk"
			baseTableName="billing_ambulance" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="ambulance_last_modified_by_fk"
			baseTableName="billing_ambulance" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="ambulance_retired_by_fk"
			baseTableName="billing_ambulance" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="opd_drug_order-table-create"
			   author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="opd_drug_order" />
			</not>
		</preConditions>
		<comment>
			Create opd_drug_order table
		</comment>
		<createTable tableName="opd_drug_order">
			<column name="opd_drug_order_id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="patient_id" type="int" />
			<column name="encounter_id" type="int">
				<constraints nullable="false" />
			</column>
			<column name="created_on" type="DATETIME"/>
			<column name="created_by" type="int" />
			<column name="order_status" type="int" />
			<column name="cancel_status" type="int" />
			<column name="order_from" type="int" />
			<column name="referral_opd_name" type="varchar(255)" />
		</createTable>
		<addForeignKeyConstraint
				constraintName="opd_drug_order_created_by_fk"
				baseTableName="opd_drug_order"
				baseColumnNames="created_by" referencedTableName="users"
				referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="opd_drug_order_detail-table-create"
			   author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="opd_drug_order_detail" />
			</not>
		</preConditions>
		<comment>
			Create opd_drug_order_detail table
		</comment>
		<createTable tableName="opd_drug_order_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="opd_drug_order_id" type="int" />
			<column name="inventory_drug_id" type="int" />
			<column name="formulation_id" type="int" />
			<column name="frequency_concept_id" type="int" />
			<column name="no_of_days" type="int" />
			<column name="comments" type="varchar(255)" />
			<column name="deleted" type="boolean" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_drug_category-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_drug_category" />
			</not>
		</preConditions>
		<comment>
			Create inventory_drug_category table
		</comment>
		<createTable tableName="inventory_drug_category">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_drug_category_created_by_fk"
			baseTableName="inventory_drug_category" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_category_deleted_by_fk"
			baseTableName="inventory_drug_category" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_category_last_modified_by_fk"
			baseTableName="inventory_drug_category" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_category_retired_by_fk"
			baseTableName="inventory_drug_category" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_drug_formulation-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_drug_formulation" />
			</not>
		</preConditions>
		<comment>
			Create inventory_drug_formulation table
		</comment>
		<createTable tableName="inventory_drug_formulation">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="dozage" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_drug_formulation_created_by_fk"
			baseTableName="inventory_drug_formulation" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_formulation_deleted_by_fk"
			baseTableName="inventory_drug_formulation" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_formulation_last_modified_by_fk"
			baseTableName="inventory_drug_formulation" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_formulation_retired_by_fk"
			baseTableName="inventory_drug_formulation" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>
	
	<changeSet id="inventory_drug_formulations-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_drug_formulations" />
			</not>
		</preConditions>
		<comment>
			Create inventory_drug_formulations table
		</comment>
		<createTable tableName="inventory_drug_formulations">
			<column name="drug_id" type="int" />
			<column name="formulation_id" type="int" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_drug_unit-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_drug_unit" />
			</not>
		</preConditions>
		<comment>
			Create inventory_drug_unit table
		</comment>
		<createTable tableName="inventory_drug_unit">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_drug_unit_created_by_fk"
			baseTableName="inventory_drug_unit" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_unit_deleted_by_fk"
			baseTableName="inventory_drug_unit" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_unit_last_modified_by_fk"
			baseTableName="inventory_drug_unit" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_unit_retired_by_fk"
			baseTableName="inventory_drug_unit" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_drug-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_drug" />
			</not>
		</preConditions>
		<comment>
			Create inventory_drug table
		</comment>
		<createTable tableName="inventory_drug">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="unit_id" type="int" />
			<column name="category_id" type="int" />
			<column name="drug_id" type="int" />
			<column name="attribute" type="int" />
			<column name="consumption" type="int" />
			<column name="reorder_qty" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_drug_created_by_fk"
			baseTableName="inventory_drug" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_deleted_by_fk"
			baseTableName="inventory_drug" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_last_modified_by_fk"
			baseTableName="inventory_drug" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_drug_retired_by_fk"
			baseTableName="inventory_drug" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store table
		</comment>
		<createTable tableName="inventory_store">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="role" type="varchar(255)" />
			<column name="code" type="varchar(255)" />
			<column name="is_pharmacy" type="boolean" />
			<column name="parent_id" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_created_by_fk"
			baseTableName="inventory_store" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_deleted_by_fk"
			baseTableName="inventory_store" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_last_modified_by_fk"
			baseTableName="inventory_store" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_retired_by_fk"
			baseTableName="inventory_store" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_drug-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug table
		</comment>
		<createTable tableName="inventory_store_drug">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_id" type="int"/>
			<column name="drug_id" type="int"/>
			<column name="formulation_id" type="int" />
			<column name="current_quantity" type="int" />
			<column name="receipt_quantity" type="int" />
			<column name="issue_quantity" type="int" />
			<column name="status_indent" type="int" />
			<column name="reorder_quantity" type="int" />
			<column name="opening_balance" type="int" />
			<column name="closing_balance" type="int" />
			<column name="status" type="int" />
			<column name="created_on" type="DATETIME" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_drug_transaction-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists
					tableName="inventory_store_drug_transaction" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_transaction table
		</comment>
		<createTable tableName="inventory_store_drug_transaction">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_id" type="int" />
			<column name="type_transaction" type="int" />
			<column name="status" type="int" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_created_by_fk"
			baseTableName="inventory_store_drug_transaction" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_deleted_by_fk"
			baseTableName="inventory_store_drug_transaction" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_last_modified_by_fk"
			baseTableName="inventory_store_drug_transaction" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_retired_by_fk"
			baseTableName="inventory_store_drug_transaction" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_drug_indent-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_indent" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_indent table
		</comment>
		<createTable tableName="inventory_store_drug_indent">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_id" type="int" />
			<column name="transaction_id" type="int" />
			<column name="name" type="varchar(255)" />
			<column name="sub_store_status" type="int" />
			<column name="main_store_status" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_indent_created_by_fk"
			baseTableName="inventory_store_drug_indent" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_indent_deleted_by_fk"
			baseTableName="inventory_store_drug_indent" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_indent_last_modified_by_fk"
			baseTableName="inventory_store_drug_indent" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_indent_retired_by_fk"
			baseTableName="inventory_store_drug_indent" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_drug_indent_detail-table-create"
			   author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_indent_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_indent_detail table
		</comment>
		<createTable tableName="inventory_store_drug_indent_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="indent_id" type="int"/>
			<column name="drug_id" type="int"/>
			<column name="formulation_id" type="int" />
			<column name="quantity" type="int"/>
			<column name="main_store_transfer" type="int"/>
			<column name="created_on" type="DATETIME"/>
			<column name="deleted" type="boolean"/>
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_drug_issue_detail-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_issue_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_issue_detail table
		</comment>
		<createTable tableName="inventory_store_drug_issue_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="drug_id" type="int"/>
			<column name="formulation_id" type="int" />
			<column name="quantity" type="int"/>
			<column name="created_on" type="DATETIME"/>
			<column name="deleted" type="boolean"/>
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_drug_order_issue_detail-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_order_issue_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_order_issue_detail table
		</comment>
		<createTable tableName="inventory_store_drug_order_issue_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="drug_id" type="int"/>
			<column name="formulation_id" type="int" />
			<column name="quantity" type="int"/>
			<column name="created_on" type="DATETIME"/>
			<column name="deleted" type="boolean"/>
		</createTable>
	</changeSet>

	<changeSet
		id="inventory_store_drug_transaction_detail-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists
					tableName="inventory_store_drug_transaction_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_transaction_detail table
		</comment>
		<createTable
			tableName="inventory_store_drug_transaction_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="transaction_id" type="int" />
			<column name="drug_id" type="int" />
			<column name="formulation_id" type="int" />
			<column name="quantity" type="int" />
			<column name="current_quantity" type="int" />
			<column name="issue_quantity" type="int" />
			<column name="unit_price" type="decimal" />
			<column name="VAT" type="decimal" />
			<column name="total_price" type="decimal" />
			<column name="batch_no" type="varchar(255)" />
			<column name="company_name" type="varchar(255)" />
			<column name="date_manufacture" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="date_expiry" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="receipt_date" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="opening_balance" type="int" />
			<column name="closing_balance" type="int" />
			<column name="parent_id" type="int" />
			<column name="expire_status" type="boolean" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_detail_created_by_fk"
			baseTableName="inventory_store_drug_transaction_detail" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_detail_deleted_by_fk"
			baseTableName="inventory_store_drug_transaction_detail" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_detail_last_modified_by_fk"
			baseTableName="inventory_store_drug_transaction_detail" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_drug_transaction_detail_retired_by_fk"
			baseTableName="inventory_store_drug_transaction_detail" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>
	
	<changeSet id="inventory_item-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_item" />
			</not>
		</preConditions>
		<comment>
			Create inventory_item table
		</comment>
		<createTable tableName="inventory_item">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="unit_id" type="int" />
			<column name="category_id" type="int" />
			<column name="sub_category_id" type="int" />
			<column name="attribute" type="int" />
			<column name="consumption" type="int" />
			<column name="reorder_qty" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_item_created_by_fk"
			baseTableName="inventory_item" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_deleted_by_fk"
			baseTableName="inventory_item" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_last_modified_by_fk"
			baseTableName="inventory_item" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_retired_by_fk"
			baseTableName="inventory_item" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_item_category-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_item_category" />
			</not>
		</preConditions>
		<comment>
			Create inventory_item_category table
		</comment>
		<createTable tableName="inventory_item_category">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_item_category_created_by_fk"
			baseTableName="inventory_item_category" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_category_deleted_by_fk"
			baseTableName="inventory_item_category" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_category_last_modified_by_fk"
			baseTableName="inventory_item_category"
			baseColumnNames="last_modified_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_category_retired_by_fk"
			baseTableName="inventory_item_category" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_item_specification-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_item_specification" />
			</not>
		</preConditions>
		<comment>
			Create inventory_item_specification table
		</comment>
		<createTable tableName="inventory_item_specification">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_item_specification_created_by_fk"
			baseTableName="inventory_item_specification"
			baseColumnNames="created_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_specification_deleted_by_fk"
			baseTableName="inventory_item_specification"
			baseColumnNames="deleted_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_specification_last_modified_by_fk"
			baseTableName="inventory_item_specification"
			baseColumnNames="last_modified_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_specification_retired_by_fk"
			baseTableName="inventory_item_specification"
			baseColumnNames="retired_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>
	
	<changeSet id="inventory_item_specifications-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_item_specifications" />
			</not>
		</preConditions>
		<comment>
			Create inventory_item_specifications table
		</comment>
		<createTable tableName="inventory_item_specifications">
			<column name="item_id" type="int" />
			<column name="specification_id" type="int" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_item_sub_category-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_item_sub_category" />
			</not>
		</preConditions>
		<comment>
			Create inventory_item_sub_category table
		</comment>
		<createTable tableName="inventory_item_sub_category">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="code" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="category_id" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_item_sub_category_created_by_fk"
			baseTableName="inventory_item_sub_category"
			baseColumnNames="created_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_sub_category_deleted_by_fk"
			baseTableName="inventory_item_sub_category"
			baseColumnNames="deleted_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_sub_category_last_modified_by_fk"
			baseTableName="inventory_item_sub_category"
			baseColumnNames="last_modified_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_sub_category_retired_by_fk"
			baseTableName="inventory_item_sub_category"
			baseColumnNames="retired_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_item_unit-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_item_unit" />
			</not>
		</preConditions>
		<comment>
			Create inventory_item_unit table
		</comment>
		<createTable tableName="inventory_item_unit">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="name" type="varchar(255)" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_item_unit_created_by_fk"
			baseTableName="inventory_item_unit" baseColumnNames="created_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_unit_deleted_by_fk"
			baseTableName="inventory_item_unit" baseColumnNames="deleted_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_unit_last_modified_by_fk"
			baseTableName="inventory_item_unit"
			baseColumnNames="last_modified_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_item_unit_retired_by_fk"
			baseTableName="inventory_item_unit" baseColumnNames="retired_by"
			referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_item_transaction-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists
					tableName="inventory_store_item_transaction" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_item_transaction table
		</comment>
		<createTable tableName="inventory_store_item_transaction">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_id" type="int" />
			<column name="type_transaction" type="int" />
			<column name="status" type="int" />
			<column name="description" type="varchar(500)" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_created_by_fk"
			baseTableName="inventory_store_item_transaction"
			baseColumnNames="created_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_deleted_by_fk"
			baseTableName="inventory_store_item_transaction"
			baseColumnNames="deleted_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_last_modified_by_fk"
			baseTableName="inventory_store_item_transaction" baseColumnNames="last_modified_by"
			referencedTableName="users" referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_retired_by_fk"
			baseTableName="inventory_store_item_transaction"
			baseColumnNames="retired_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_item_indent-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_item_indent" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_item_indent table
		</comment>
		<createTable tableName="inventory_store_item_indent">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_id" type="int" />
			<column name="transaction_id" type="int" />
			<column name="name" type="varchar(255)" />
			<column name="sub_store_status" type="int" />
			<column name="main_store_status" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_item_indent_created_by_fk"
			baseTableName="inventory_store_item_indent"
			baseColumnNames="created_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_indent_deleted_by_fk"
			baseTableName="inventory_store_item_indent"
			baseColumnNames="deleted_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_indent_last_modified_by_fk"
			baseTableName="inventory_store_item_indent"
			baseColumnNames="last_modified_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_indent_retired_by_fk"
			baseTableName="inventory_store_item_indent"
			baseColumnNames="retired_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet
		id="inventory_store_item_transaction_detail-table-create"
		author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists
					tableName="inventory_store_item_transaction_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_item_transaction_detail table
		</comment>
		<createTable
			tableName="inventory_store_item_transaction_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="transaction_id" type="int" />
			<column name="item_id" type="int" />
			<column name="specification_id" type="int" />
			<column name="quantity" type="int" />
			<column name="current_quantity" type="int" />
			<column name="issue_quantity" type="int" />
			<column name="unit_price" type="decimal" />
			<column name="VAT" type="decimal" />
			<column name="total_price" type="decimal" />
			<column name="company_name" type="varchar(255)" />
			<column name="date_manufacture" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="receipt_date" type="datetime">
				<constraints nullable="false" />
			</column>
			<column name="opening_balance" type="int" />
			<column name="closing_balance" type="int" />
			<column name="parent_id" type="int" />
			<column name="created_date" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="deleted" type="boolean" />
			<column name="deleted_date" type="DATETIME" />
			<column name="deleted_by" type="int" />
			<column name="last_modified_date" type="DATETIME" />
			<column name="last_modified_by" type="int" />
			<column name="retired" type="boolean" />
			<column name="retired_date" type="DATETIME" />
			<column name="retired_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_detail_created_by_fk"
			baseTableName="inventory_store_item_transaction_detail"
			baseColumnNames="created_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_detail_deleted_by_fk"
			baseTableName="inventory_store_item_transaction_detail"
			baseColumnNames="deleted_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_detail_last_modified_by_fk"
			baseTableName="inventory_store_item_transaction_detail"
			baseColumnNames="last_modified_by" referencedTableName="users"
			referencedColumnNames="user_id" />
		<addForeignKeyConstraint
			constraintName="inventory_store_item_transaction_detail_retired_by_fk"
			baseTableName="inventory_store_item_transaction_detail"
			baseColumnNames="retired_by" referencedTableName="users"
			referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_receipt_form_detail-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_receipt_form_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_receipt_form_detail table
		</comment>
		<createTable tableName="inventory_receipt_form_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="drug_id" type="int"/>
			<column name="formulation_id" type="int" />
			<column name="quantity" type="int"/>
			<column name="rate" type="int"/>
			<column name="vat" type="decimal"/>
			<column name="mr_price" type="decimal"/>
			<column name="company_name" type="varchar(255)"/>
			<column name="batch_no" type="varchar(255)"/>
			<column name="discount" type="float" />
			<column name="cgst" type="decimal"/>
			<column name="sgst" type="decimal"/>
			<column name="date_expiry" type="DATETIME"/>
			<column name="date_manufacture" type="DATETIME"/>
			<column name="receipt_date" type="DATETIME"/>
			<column name="unit_price" type="decimal"/>
			<column name="total_amount" type="decimal"/>
			<column name="amount_after_gst" type="decimal"/>
			<column name="deleted" type="boolean" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_drug_patient-table-create"
			author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_patient" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_patient table
		</comment>
		<createTable tableName="inventory_store_drug_patient">

			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_id" type="int" />
			<column name="patient_id" type="int" />
			<column name="name" type="varchar(255)" />
			<column name="prescription" type="varchar(255)" />
			<column name="identifier" type="varchar(255)" />
			<column name="total" type="int" />
			<column name="discount" type="float" />
			<column name="total_payable" type="int" />
			<column name="amount_paid" type="int" />
			<column name="balance_returned" type="int" />
			<column name="created_on" type="DATETIME" />
			<column name="created_by" type="int" />
		</createTable>
		<addForeignKeyConstraint
				constraintName="inventory_store_drug_patient_created_by_fk"
				baseTableName="inventory_store_drug_patient"
				baseColumnNames="created_by" referencedTableName="users"
				referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_drug_patient_detail-table-create"
			author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_patient_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_patient_detail table
		</comment>
		<createTable tableName="inventory_store_drug_patient_detail">

			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="store_drug_patient_id" type="int" />
			<column name="transaction_detail_id" type="int" />
			<column name="quantity" type="int" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_drug_receipt-table-create"
			   author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_receipt" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_receipt table
		</comment>
		<createTable tableName="inventory_store_drug_receipt">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="transaction_id" type="int" />
			<column name="vendor_name" type="varchar(255)" />
			<column name="receipt_number" type="varchar(255)" />
			<column name="bill_amount" type="int" />
			<column name="created_on" type="DATETIME" />
			<column name="created_by" type="int" />
			<column name="uuid" type="char(38)" />
		</createTable>
		<addForeignKeyConstraint
				constraintName="inventory_store_drug_receipt_created_by_fk"
				baseTableName="inventory_store_drug_receipt" baseColumnNames="created_by"
				referencedTableName="users" referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_drug_receipt_detail-table-create"
			   author="ghanshyam">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_receipt_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_receipt_detail table
		</comment>
		<createTable tableName="inventory_store_drug_receipt_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="receipt_id" type="int" />
			<column name="cgst" type="decimal" />
			<column name="cgst_amount" type="decimal" />
			<column name="sgst" type="decimal" />
			<column name="sgst_amount" type="decimal" />
			<column name="mr_price" type="decimal" />
			<column name="cd" type="decimal" />
			<column name="cd_amount" type="decimal" />
			<column name="total_amount" type="decimal" />
			<column name="amount_after_gst" type="decimal" />
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_issue_patient_detail-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_issue_patient_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_issue_patient_detail table
		</comment>
		<createTable tableName="inventory_store_issue_patient_detail">

			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="patient_identifier" type="varchar(255)" />
			<column name="patient_name" type="varchar(255)" />
			<column name="category" type="varchar(255)" />
			<column name="age" type="int" />
			<column name="created_on" type="DATETIME"/>
			<column name="deleted" type="boolean"/>
		</createTable>
	</changeSet>

	<changeSet id="inventory_store_drug_order_patient-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_order_patient" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_order_patient table
		</comment>
		<createTable tableName="inventory_store_drug_order_patient">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="patient_id" type="int" />
			<column name="identifier" type="varchar(255)" />
			<column name="name" type="varchar(255)" />
			<column name="age" type="int" />
			<column name="gender" type="varchar(255)" />
			<column name="created_on" type="DATETIME"/>
			<column name="created_by" type="int" />
		</createTable>
		<addForeignKeyConstraint
				constraintName="inventory_store_drug_order_patient_created_by_fk"
				baseTableName="inventory_store_drug_order_patient"
				baseColumnNames="created_by" referencedTableName="users"
				referencedColumnNames="user_id" />
	</changeSet>

	<changeSet id="inventory_store_drug_order_patient_detail-table-create"
			   author="mujuzi">
		<preConditions onFail="MARK_RAN">
			<not>
				<tableExists tableName="inventory_store_drug_order_patient_detail" />
			</not>
		</preConditions>
		<comment>
			Create inventory_store_drug_order_patient_detail table
		</comment>
		<createTable tableName="inventory_store_drug_order_patient_detail">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false" />
			</column>
			<column name="drug_order_patient_id" type="int" />
			<column name="order_date" type="varchar(255)" />
			<column name="opd_drug_order_id" type="int" />
			<column name="created_on" type="DATETIME"/>
			<column name="created_by" type="int" />
		</createTable>
		<addForeignKeyConstraint
				constraintName="inventory_store_drug_order_patient_detail_created_by_fk"
				baseTableName="inventory_store_drug_order_patient_detail"
				baseColumnNames="created_by" referencedTableName="users"
				referencedColumnNames="user_id" />
	</changeSet>

</databaseChangeLog>